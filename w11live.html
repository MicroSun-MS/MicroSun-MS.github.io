



    <!DOCTYPE html>
    <html lang="en">
    <head prefix="og: http://ogp.me/ns#">
            <meta http-equiv="X-UA-Compatible" content="IE=edge" />
            <meta name="viewport" content="width=device-width" />
            <title>The 2021 Microsoft Windows Event</title>
            <!-- Facebook Meta Tags -->
            <meta property="og:title" content="The 2021 Microsoft Windows Event">
            <meta property="og:image" content="https://mediusdownload.event.microsoft.com/video-38790/77142115/thumbnail.jpg?sv=2018-03-28&amp;sr=c&amp;sig=FBsErncWCrsE%2ByIv32aO%2FxseNbo8FwFBNARd0NlQVSQ%3D&amp;se=2026-06-25T20%3A29%3A33Z&amp;sp=r">
            <meta property="og:url" content="https://medius.studios.ms:443/embed/video-nc/de18ed97-45e6-4762-85cc-f0d94abab98d">
            <meta property="og:type" content="website">
            <meta property="og:site_name" content="Medius" />
            <meta property="og:description" content="&lt;p class=&quot;&quot;&gt;SV Channel 3&lt;/p&gt;">
        <base href="https://medius.studios.ms">
                        <link href="https://ajax.aspnetcdn.com/ajax/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet" />
        <link href="/bundles/css?v=Pk1ZIUnWw4WzHTm9ckLHB5wKsplWf3lbuo22EuNRtDA1" rel="stylesheet"/>

        <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.10.2.min.js"></script>
        <script>
            // Fallback to loading jQuery from a local path if the CDN is unavailable
            (window.jQuery || document.write('<script src="/scripts/jquery-3.5.1.min.js"><\/script>'));
        </script>
        <script src="/bundles/jquery?v=Xx-3-D8GTYFbz1JbChQR1fnj3mTgRuaq63WMRsrW9FY1"></script>

        <script src="https://ajax.aspnetcdn.com/ajax/jquery.ui/1.10.2/jquery-ui.min.js"></script>
        <script src="https://ajax.aspnetcdn.com/ajax/bootstrap/3.0.0/bootstrap.min.js"></script>
        <script src="https://ajax.aspnetcdn.com/ajax/respond/1.2.0/respond.js"></script>
        
        <script>
            function getParameterByName(name, url) {
                if (!url) url = window.location.href;
                name = name.replace(/[\[\]]/g, "\\$&");
                var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
                    results = regex.exec(url);
                if (!results) return null;
                if (!results[2]) return '';
                return decodeURIComponent(results[2].replace(/\+/g, " "));
            }

        </script>
        <script src="/bundles/APP/js?v=zyXHlHsXv2wRUosmqE77wN2EWugVwVzeev3E4or3Lhc1"></script>

        <script>var isLatestPlayer = true;</script>
        <script>
            function insertUrlParam(key, value) {
                if (history.pushState) {
                    let searchParams = new URLSearchParams(window.location.search);
                    searchParams.set(key, value);
                    let newurl = window.location.protocol + "//" + window.location.host + window.location.pathname + '?' + searchParams.toString();
                    window.history.pushState({ path: newurl }, '', newurl);
                }
            }
        </script>
                        <link href="//amp.azure.net/libs/amp/2.3.6/skins/amp-default/azuremediaplayer.min.css" rel="stylesheet">
                <script type="text/javascript" charset="UTF-8" src="//amp.azure.net/libs/amp/2.3.8/azuremediaplayer.min.js"></script>
<script src="/bundles/AMPPluginsLatest/js?v=9SncyEn7C9kZsiMtwAM-YZRPew_9VKhRgbnAVNRCdQk1"></script>
<link href="/bundles/AMPPlugins/css?v=iMlzZk6hxXpJlJGD7Utdgu9EoVvB0WuVLJZvf5v9vDI1" rel="stylesheet"/>
<script src="/bundles/AMPPlugins/js?v=FuBWICOY28MDCsgI4aaMl77mFAU_VUWCej6sfGQlupw1"></script>


    </head>
    <body class="container-fluid c-embed-video" style="background-color:black">
<input data-val="true" data-val-number="The field Id must be a number." data-val-required="The Id field is required." id="videoid" name="Id" type="hidden" value="de18ed97-45e6-4762-85cc-f0d94abab98d" />                                <div class="row" id="player_section">
                                    <div class="fullscreen-bg">

                                            <video playsinline id="azuremediaplayer" class="azuremediaplayer amp-default-skin fullscreen-bg-video amp-big-play-centered" data-asl="https://mediusprod.streaming.mediaservices.windows.net/3d7add67-8def-4f97-a971-facc6fb3554b/TEST06.ism/manifest" data-id="https://mediusprod.streaming.mediaservices.windows.net/78578af4-7972-4e20-9014-a3713d552425/TEST06.ism/manifest"></video>

                                    </div>
                                </div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.15.1/moment.min.js"></script>
<script src="/Content/js/AMPPlugins/amp-vb.js"></script>

<script src="/Content/js/AkamaiAnalyticsPlugins/amsp-metrix.min.js"></script>
<script src="/Content/js/AkamaiAnalyticsPlugins/csma.js"></script>
<script src="/Content/js/AkamaiAnalyticsPlugins/akamaianalytics.js"></script>
<style>
    .amp-default-skin .vjs-text-track-display > div > div {
        bottom: 30px !important;
        /*font: 1.8rem sans-serif !important;*/
    }

    .amp-default-skin.amp-big-play-centered .vjs-big-play-button {
        left: 50%;
        top: 50%;
        -webkit-transform: translate(-50%,-50%) scale(1.0) !important;
        -ms-transform: translate(-50%,-50%) scale(1.0) !important;
        transform: translate(-50%,-50%) scale(1.0) !important;
    }
</style>

<input name="__RequestVerificationToken" type="hidden" value="n2EI7btuPOPqusjLXeqWEAT7rcKt1ExmybvlGLl9ufMGzbdbvLM7dtG8eq1VPqQ6GqsOh979i8r-U9xOz-ufaOMkxNbQ14bFNoHdSMyz1Kg1" />    <input type="hidden" id="hdnVideoId" value="38790" />
    <input type="hidden" id="videoDuration" value="">
        <script>
    //$(function () {
        var sessionStartDate = new Date(Date.UTC('2021', parseInt('6')-1, '24', '13', '36', '0'));
        var sessionEndDate = new Date(Date.UTC('2021', parseInt('6') - 1, '24', '13', '36', '0'));
        var onDemandStartDate = new Date(Date.UTC('9999', parseInt('12') - 1, '31', '23', '59', '59'));
        var preLive = moment(sessionStartDate).add(-7, 'm').toDate();
        var postLive =  moment(sessionEndDate).add(1, 'd').toDate();
        var isLive = false;
    var phase = "";
            var selector = $('#playerDiv');
            var configureAMPPlayer = function () {
                    var id = $(".azuremediaplayer").attr('id');
                    var source = $(".azuremediaplayer").data('id');
                    var aslSource = $(".azuremediaplayer").data('asl');
                    var currentStreamType = "";
                    var sat = "";

                    var type_of_video = "application/vnd.ms-sstr+xml";
                    var myOptions = {};
                    var ampV3 = "1080p";
                    var ampads = {};
                function init(autoplay, streamType) {
                        streamType = streamType || "";
                        currentStreamType = streamType;
                        myOptions = {
                            autoplay: ('False'.toLowerCase() === 'True'.toLowerCase()),
                            controls: true,
                            poster: "https://mediusdownload.event.microsoft.com/video-38790/77142115/thumbnail.jpg?sv=2018-03-28&sr=c&sig=FBsErncWCrsE%2ByIv32aO%2FxseNbo8FwFBNARd0NlQVSQ%3D&se=2026-06-25T20%3A29%3A33Z&sp=r",
                            logo: { enabled: false },
                            //cea708CaptionsSettings : {
                            //    enabled: true,
                            //    srclang: 'en',
                            //    label: 'English'
                            //},
                            heuristicProfile: "Hybrid",
                            plugins: {
                                videobreakdown: {}
                            },
                            skinConfig: {
                                audioTracksMenu: {
                                    enabled: true,
                                    useManifestForLabel: true
                                }
                            }
                    };
                    myOptions.language = getQueryString("lang");
                    if (autoplay === true)
                        myOptions.autoplay = true;
                    if (aslSource !== "" && typeof (aslSource) != 'undefined') {
                        //Making this true as ASL Pop Up changes is not approved by Client
                            
                            
                                myOptions.plugins["ASL"] = {
                                    callback: aslClickCallback,
                                    selection: GetASLModeSelectionFromParams()
                                };
                            
                    }
                   var isSemiLive = false;
                    if (isSemiLive === true)
                    {
                        console.log("start " + sessionStartDate);
                        console.log("end " + sessionEndDate);
                        console.log("preLive " + preLive);
                        console.log("livendtime " + sessionEndDate);
                        addSemuLivePlugin(myOptions);
                    }

                        //disableLikeUnlike(myOptions);
                        renderAccessibilityFixes(myOptions);
                        renderOldNewPlugins();
                        disableFullScreen(myOptions);
                        addApplicationInsights();
                        addprepostRollAndKeyPointsPlugin();
                        UpdateVideoDurationPlugin();
                        addVideoStartNotificationPlugin();
                        //if(!isiOSDevice())
                        //    statsForNerdsPlugin();
                        //addPlayListPlugin();
                        addDownloadLinkPlugin();
                        addPreloadCaptionPlugin();
                        addPlayOnePlugin();
                        //addCastVideoPlugin();
                        addseekToPositionPlugin();
                        addCYOAOnDemandPlugin();
                        addMLVPlugin();
                        addVIIPlugin();
                        addSettingsPlugin();
                        addADPlugin();
                        addLocalizationPlugin(myOptions);
                        autoCaption();
                        //if(!isiOSDevice())
                        //    addFeedbackPlugin();
                        var captions = addCaptionPlugin();
                        if (source && source.length > 0) {
                            setSourceAndLoadPlayer(streamType, captions);
                            if (OnASLInParams !== null) {
                                OnASLInParams();
                            }
                    }
                    var isSemiLive = false;
                    if (isSemiLive === true)
                    {
                        console.log("Simu live concurrent static calling");
                        akamaianalytics.init(id,'A9V5-TEST06');
                    }
                    }

                    function autoCaption() {
                     myOptions.plugins["autoCaption"] = {};
                    }

                    function addADPlugin() {
                        myOptions.plugins["AD"] = {}
                    }

                    function OnASLInParams() {
                        var aslValue = getUrlParameter('asl');
                        OnASLInParams = null;
                        if (aslSource !== "" && typeof (aslSource) != 'undefined' &&
                            aslValue !== undefined && aslValue !== null &&
                            aslValue.trim() !== "" &&
                            (aslValue == "1" || aslValue.toLowerCase() == "true")) {
                            currentStreamType = "asl";
                            configureAMPPlayer.init("", "asl");
                        }
                    }

                    function GetASLModeSelectionFromParams() {
                        var aslValue = getUrlParameter('asl');
                        if (aslSource !== "" && typeof (aslSource) != 'undefined' &&
                            aslValue !== undefined && aslValue !== null &&
                            aslValue.trim() !== "" &&
                            (aslValue == "1" || aslValue.toLowerCase() == "true")) {
                            return 'ASL';
                        } else {
                            return 'Off';
                        }
                    }
                //Add Semu Live plugin
                function addSemuLivePlugin(myOptions) {

                        myOptions.plugins["semuLive"] = {
                            sessionStartDate,
                            postImageUrl: '',
                            sessionEndDate,
                            postLive
                        } 
                }
                //Add Accessibility fixes plugin
                function renderAccessibilityFixes(myOptions) {
                      myOptions.plugins["removePlayTooltip"] = {option:'none'};

                }

                //Add Localization plugin
                function addLocalizationPlugin(myOptions) {
                    //debugger;
                    var lang = myOptions.language;
                    if (lang != null && lang != undefined && lang != "") {
                        myOptions.plugins["languagelocalization"] = lang;
                    }
                    else {
                        if (window.navigator.language != null && window.navigator.language != undefined && window.navigator.language != "") {
                            lang = window.navigator.language;
                        }
                        else if (window.navigator.userLanguage != null && window.navigator.userLanguage != undefined && window.navigator.userLanguage != "") {
                            lang = window.navigator.userLanguage;
                        }
                        if (lang != null && lang != undefined && lang != "") {
                            myOptions.plugins["languagelocalization"] = lang;
                        }

                    }
                }
                function addMLVPlugin() {

                    }

                    function addPreloadCaptionPlugin() {

                    }

                    function addPlayOnePlugin() {
                        if (window.self != window.top) {
                            myOptions.plugins["PlayOne"] = {
                                ShortCode: 'A9V5-TEST06'
                            };
                        }
                    }

                    function addVIIPlugin() {
                    }

                    function setSourceAndLoadPlayer(streamType, captions, streamUrl) {
                        streamType = streamType || "";
                        streamUrl = streamUrl || "";
                        var playerSource;
                        var jwttoken;
                        var menifestFilter;
                        if (streamType.toLowerCase() == "asl") {
                            myOptions.autoplay = true;
                            playerSource = aslSource;
                            jwttoken = "";
                            menifestFilter = '';
                        }
                        else {
                            if (streamUrl !== "") {
                                playerSource = streamUrl;
                                menifestFilter = '';
                            }
                            else {
                                playerSource = source;
                                jwttoken = "";
                                menifestFilter = '';
                            }
                        }


                        if (playerSource && playerSource.length > 0) {
                            if (playerSource.indexOf("manifest") > 0) {
                                if (menifestFilter.length > 0) {
                                    if (playerSource.indexOf("(") > 0) {
                                        playerSource = playerSource.replace("(", "(filter=" + menifestFilter + ",");
                                    }
                                    else {
                                        playerSource = playerSource + '(filter=' + menifestFilter + ')';
                                    }
                                }
                            }
                            else {
                                type_of_video = "video/mp4"
                            }

                            playerSource = playerSource.replace("http:", "https:");
                            if (ampV3 === "1080p") {
                                playerSource = playerSource.replace("https://mediusprod.streaming.mediaservices.windows.net", "https://amsmediusw-ak.studios.ms");
                            }
                            else {
                                playerSource = playerSource.replace("https://mediusprod.streaming.mediaservices.windows.net", "https://amsmedius.studios.ms");
                            }

                               
                            AMPlayer.render(id, myOptions, playerSource, type_of_video, captions, "", "", addPreRollVideo(), 'A9V5-TEST06');
                            
                        }
                    }

                    function aslClickCallback(isASL) {
                        if (isASL) {
                            currentStreamType = "asl";
                            configureAMPPlayer.init("", "asl");
                        }
                        else {
                            currentStreamType = "";
                            configureAMPPlayer.init("", "");
                        }
                    }

                function mlvClickCallback(stream) {
                        if (stream == null) {
                            configureAMPPlayer.init("", "");
                        }
                        else {
                            //var pRef = amp(id);
                            //configureAMPPlayer.init("", "", stream.StreamUrl)
                            setSourceAndLoadPlayer("", null, stream.StreamUrl);
                        }
                    }

                    function disableFullScreen(myOptions) {
                }

                    function disableLikeUnlike(myOptions) {
                            myOptions.plugins["likeUnlikeVideo"] = {}
                    }
                    function renderOldNewPlugins() {

                        if (isLatestPlayer !== undefined && isLatestPlayer == true) {
                            addSharePluginLatest();
                                myOptions.playbackSpeed = {
                                    enabled: true,
                            initialSpeed: 1.0,
                            speedLevels: [
                                { name: "x4.0", value: 4.0 },
                                { name: "x3.0", value: 3.0 },
                                { name: "x2.0", value: 2.0 },
                                { name: "x1.75", value: 1.75 },
                                { name: "x1.5", value: 1.5 },
                                { name: "x1.25", value: 1.25 },
                                { name: "normal", value: 1.0 },
                                { name: "x0.75", value: 0.75 },
                                { name: "x0.5", value: 0.5 },
                            ]
                        }
                    } else {
                            addSharePlugin();
                            myOptions.plugins["playbackrate"] = {};
                        }
                    }

                     function getScript(source, callback) {
                    var script = document.createElement('script');
                    var prior = document.getElementsByTagName('script')[0];
                    script.async = 1;

                    script.onload = script.onreadystatechange = function (_, isAbort) {
                        if (isAbort || !script.readyState || /loaded|complete/.test(script.readyState)) {
                            script.onload = script.onreadystatechange = null;
                            script = undefined;

                            if (!isAbort && callback) setTimeout(callback, 0);
                        }
                    };

                    script.src = source;
                    prior.parentNode.insertBefore(script, prior);
                }

                            function initMp4() {
                        getScript('/Content/js/jsll.js', function () {
                            getScript('/Content/js/appInsights.js', function () {
                                                        myOptions = {
                                                            "nativeControlsForTouch": false,
                                    controls: true,
                                    autoplay: ('False' === 'True'),
                                    logo: { enabled: false },
                                    poster: "https://mediusdownload.event.microsoft.com/video-38790/77142115/thumbnail.jpg?sv=2018-03-28&sr=c&sig=FBsErncWCrsE%2ByIv32aO%2FxseNbo8FwFBNARd0NlQVSQ%3D&se=2026-06-25T20%3A29%3A33Z&sp=r",
                                }

                                        myPlayer = amp(id, myOptions);
                                        myPlayer.src([
                                    {
                                            "src": source,
                                        "type": "video/mp4"
                                    }
                                ]);
                                    })
                        });
                    }

                            //Add settings plugin
                            function addSettingsPlugin() {
                                var multilanguagevideo = 'false';
                                var aslSettingIcon = 'true';
                                var viiInsights = 'false';
                            myOptions.plugins["SettingIcons"] = { "chapter": false, "multilanguagevideo": multilanguagevideo, "aslSettingIcon": aslSettingIcon, "viiInsights": viiInsights }
                            }

                            function addseekToPositionPlugin() {
                            }

                            //Add application insights for player.
                            function addApplicationInsights() {
                                myOptions.plugins["appInsights"] = {
                                    otherAIProps: {
                                        mpsSourceId: "Medius",
                                videoId: 'de18ed97-45e6-4762-85cc-f0d94abab98d',
                                mpsEventId: 'A9V5-TEST06',
                                mpsChannel: 'A9V5'
                                    },
                            //userId: user email address,
                            //accountId: company name, for all internal events use Microsoft
                            percentsPlayedInterval: 10,
                            timeUpdateInterval: 25
                                }
                            }

                function getQueryString(name) {
                                var url = window.location.href;
                                name = name.replace(/[\[\]]/g, "\\$&");
                                var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
                                    results = regex.exec(url);
                                if (!results) return null;
                                if (!results[2]) return '';
                                return decodeURIComponent(results[2].replace(/\+/g, " "));
                            }

                            //Add PreRoll, PostRoll and Key point plugin
                            function addprepostRollAndKeyPointsPlugin() {
                                var cta = getQueryString("cta");
                                if (cta === null || (cta.toLowerCase() !== "false" && cta !== "0")) {
                                }
                            }


                            function addCYOAOnDemandPlugin() {
                            myOptions.plugins["cyoa-od"] = {streamType:"",callback: setPlayerSrc,options:JSON.parse(decodeURI('{}'))}

                            }

                            function setPlayerSrc(origin) {

                                var cyoa_json = JSON.parse(decodeURI('{}'));

                                if (typeof origin != "undefined" && origin != null && origin != "") {
                                    //Form Redirect Url With Proper Query Params
                                    var redirect_url = '/embed/video-nc/' + origin.scode + '?';
                                    var redirect_url_querystr = window.location.href.split('?').length > 0 ? window.location.href.split('?')[1] : "";
                                    redirect_url += redirect_url_querystr;

                                    var appendL = updateQueryStringParameter(window.location.href, "l", cyoa_json.comebackAt);

                                    redirect_url = updateQueryStringParameter(redirect_url, "cyoa_redirect", encodeURIComponent(appendL));
                                    redirect_url = updateQueryStringParameter(redirect_url, "autoplay", 1);
                                    redirect_url = removeUrlParameter(redirect_url, "l");

                                    if(sat !== undefined && sat !== null && sat.trim() != ""){
                                        redirect_url = updateQueryStringParameter(redirect_url,"at",sat);
                                    }

                                    window.location = redirect_url;
                                }
                                else {
                                    //Form Redirect Url With Proper Query Params
                                    var redirect_url = decodeURIComponent(getUrlParameter('cyoa_redirect'));
                                    var comebackAtAppendToNewUrl = getParameterByName("l", redirect_url);
                                    var redirect_url_querystr = window.location.href.split('?').length > 0 ? window.location.href.split('?')[1] : "";
                                    redirect_url = decodeURIComponent(getUrlParameter('cyoa_redirect')).split("?")[0] +'?'+ redirect_url_querystr;
                                    redirect_url = removeUrlParameter(redirect_url, "cyoa_redirect");
                                    redirect_url = updateQueryStringParameter(redirect_url, "autoplay", 1);
                                    if (comebackAtAppendToNewUrl !== undefined && comebackAtAppendToNewUrl !== null && comebackAtAppendToNewUrl.trim() !== "") {
                                        redirect_url = updateQueryStringParameter(redirect_url, "l", comebackAtAppendToNewUrl);
                                    }

                                    if(sat !== undefined && sat !== null && sat.trim() != ""){
                                        redirect_url = updateQueryStringParameter(redirect_url,"at",sat);
                                    }

                                    window.location = redirect_url;
                                }
                            }

                            function getParameterByName(name, url) {
                                if (!url) url = window.location.href;
                                name = name.replace(/[\[\]]/g, '\\$&');
                                var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
                                    results = regex.exec(url);
                                if (!results) return null;
                                if (!results[2]) return '';
                                return decodeURIComponent(results[2].replace(/\+/g, ' '));
                            }

                            function addPreRollVideo() {
                                     return false;
                            }


                            function addFeedbackPlugin() {
                                myOptions.plugins["supportFeedback"] = { "videoGUID": "de18ed97-45e6-4762-85cc-f0d94abab98d" };
                            }

                            function statsForNerdsPlugin() {
                                myOptions.plugins["statsForNerds"] = { "name": "Stats Overlay", "videoGUID": "de18ed97-45e6-4762-85cc-f0d94abab98d", "VideoTitle": "The 2021 Microsoft Windows Event" }
                            }

                            function UpdateVideoDurationPlugin() {
                                myOptions.plugins["UpdateVideoDuration"] = { "videoGUID": "de18ed97-45e6-4762-85cc-f0d94abab98d", "VideoDuration": "00:45:15  " }
                            }

                            function addVideoStartNotificationPlugin() {
                                myOptions.plugins["VideoStartNotification"] = { "shortCode": "A9V5-TEST06", "scanType": "OnDemand", channelList:  ["IR19","IG19","MSRFY20Q1","MBAS20","B20","MSRFY21Q1","INSP20","DTAFY21","DTAFY21X","IG20","MTC20","CES2021","IGFY21Q3","INCL21","MVPS21","ENDS21","MBAS21","CCSM21","C1X9"] }
                            }

                            //Add playlist plugin
                            function addPlayListPlugin() {
                                myOptions.plugins["mediusplaylist"] = { 'options': { showplaylist: myOptions.showplaylist } };
                            }

                            function addSharePluginLatest() {
                                //Build Share option
                                var shareOption = {};
                                var socialShareIcons = [];

                            }


                            //Add share plugin
                            function addSharePlugin() {
                                //Build Share option
                                var shareOption = new Amp.Plugin.Share.ShareOptions;

                            }

                            //Add caption search plugin
                            function addCaptionPlugin() {
                                //Build Captions
                                var language = {
                            "en": "English", "es": "Spanish", "zh": "Chinese Traditional", "fr": "French", "de": "German", "it": "Italian", "pt": "Portuguese", "ar": "Arabic", "ja": "Japanese",
                            "us": "English", "gb": "English", "mx": "Spanish", "jp": "Japanese", "cn": "Chinese Simplified",
                            "eg": "Arabic", "sw": "Swedish", "dl": "Dutch", "bg": "Bulgarian", "br": "Portuguese (Brazil)", "cs": "Czech", "da": "Danish", "fi": "Finnish", "el": "Greek",
                            "hi": "Hindi", "hu": "Hungarian", "ko": "Korean", "nb": "Norwegian", "pl": "Polish", "ro": "Romanian", "ru": "Russian", "sk": "Slovak", "sl": "Slovenian", "th": "Thai", "tr": "Turkish",
                            "hant": "Chinese Traditional", "hans": "Chinese Simplified", "cz": "Czech", "dk": "Danish", "nl": "Dutch",
                            "gr": "Greek", "in": "Hindi", "it": "Italian", "kr": "Korean", "no": "Norwegian",
                                    "se": "Swedish", "si": "Slovenian", "vi": "Vietnamese", "id": "Indonesian", "bn": "Bangla","ur":"Urdu"
                                };
                            var langSource = {
                            "us": "en", "en": "en", "gb": "en", "mx": "es", "jp": "ja", "cn": "cn", "eg": "ar", "es": "es", "ja": "ja",
                            "pt": "pt", "zh": "zh", "ar": "ar", "sv": "sw", "dl": "dl", "br": "br", "cs": "cs", "da": "da", "fi": "fi", "el": "el", "hi": "hi", "hu": "hu", "ko": "ko", "nb": "nb", "pl": "pl",
                            "ro": "ro", "ru": "ru", "sk": "sk", "sl": "sl", "th": "th", "tr": "tr",
                            "bg": "bg", "hans": "hans", "hant": "hant", "cz": "cz", "dk": "dk", "nl": "nl", "gr": "gr", "in": "in", "it": "it",
                            "kr": "kr", "no": "no", "se": "se", "si": "sl", "vi": "vi", "vi": "vn", "id": "id", "bn": "bn", "bn": "bd",
                            "ur": "ur", "ur": "pk"

                        }
                        var captions = [
                                         { src: "https://mediusdownload.event.microsoft.com/video-38790/Caption_ar-EG.vtt?sv=2018-03-28&sr=c&sig=m7%2B6mtvpKYxZyAcHU2iWhAVUE%2Fm7KSGRDXcwiVCJe10%3D&se=2026-06-25T02%3A20%3A39Z&sp=r", srclang: "eg", kind: "captions", label: "Arabic" }, 
                                         { src: "https://mediusdownload.event.microsoft.com/video-38790/Caption_bg-BG.vtt?sv=2018-03-28&sr=c&sig=zEIHPTq0On6aTclZSgcDfW676TmXRicMUJU8UTA6QgE%3D&se=2026-06-25T02%3A20%3A46Z&sp=r", srclang: "bg", kind: "captions", label: "Bulgarian" }, 
                                         { src: "https://mediusdownload.event.microsoft.com/video-38790/Caption_cn-Hans.vtt?sv=2018-03-28&sr=c&sig=m7%2B6mtvpKYxZyAcHU2iWhAVUE%2Fm7KSGRDXcwiVCJe10%3D&se=2026-06-25T02%3A20%3A39Z&sp=r", srclang: "hans", kind: "captions", label: "Chinese Simplified" }, 
                                         { src: "https://mediusdownload.event.microsoft.com/video-38790/Caption_zh-Hant.vtt?sv=2018-03-28&sr=c&sig=RyeEeUCdN0JTRYN0L6TCsS81JAPVKqw8aZeKviJ0rKo%3D&se=2026-06-25T02%3A20%3A40Z&sp=r", srclang: "hant", kind: "captions", label: "Chinese Traditional" }, 
                                         { src: "https://mediusdownload.event.microsoft.com/video-38790/Caption_cs-CZ.vtt?sv=2018-03-28&sr=c&sig=RyeEeUCdN0JTRYN0L6TCsS81JAPVKqw8aZeKviJ0rKo%3D&se=2026-06-25T02%3A20%3A40Z&sp=r", srclang: "cz", kind: "captions", label: "Czech" }, 
                                         { src: "https://mediusdownload.event.microsoft.com/video-38790/Caption_da-DK.vtt?sv=2018-03-28&sr=c&sig=Q1%2FprsZHilpqZkGE2eVN68%2BWO2e68sedIlwTgLZSZTc%3D&se=2026-06-25T02%3A20%3A47Z&sp=r", srclang: "dk", kind: "captions", label: "Danish" }, 
                                         { src: "https://mediusdownload.event.microsoft.com/video-38790/Caption_dl-NL.vtt?sv=2018-03-28&sr=c&sig=RyeEeUCdN0JTRYN0L6TCsS81JAPVKqw8aZeKviJ0rKo%3D&se=2026-06-25T02%3A20%3A40Z&sp=r", srclang: "nl", kind: "captions", label: "Dutch" }, 
                                         { src: "https://mediusdownload.event.microsoft.com/video-38790/Caption_en-US.vtt?sv=2018-03-28&sr=c&sig=VocQAhUCketBGCpxP3nO7kVnD%2B0EsrIApjIIrwfcX3k%3D&se=2026-06-25T02%3A20%3A41Z&sp=r", srclang: "us", kind: "captions", label: "English" }, 
                                         { src: "https://mediusdownload.event.microsoft.com/video-38790/Caption_fi-FI.vtt?sv=2018-03-28&sr=c&sig=zEIHPTq0On6aTclZSgcDfW676TmXRicMUJU8UTA6QgE%3D&se=2026-06-25T02%3A20%3A46Z&sp=r", srclang: "fi", kind: "captions", label: "Finnish" }, 
                                         { src: "https://mediusdownload.event.microsoft.com/video-38790/Caption_fr-FR.vtt?sv=2018-03-28&sr=c&sig=VocQAhUCketBGCpxP3nO7kVnD%2B0EsrIApjIIrwfcX3k%3D&se=2026-06-25T02%3A20%3A41Z&sp=r", srclang: "fr", kind: "captions", label: "French" }, 
                                         { src: "https://mediusdownload.event.microsoft.com/video-38790/Caption_de-DE.vtt?sv=2018-03-28&sr=c&sig=VocQAhUCketBGCpxP3nO7kVnD%2B0EsrIApjIIrwfcX3k%3D&se=2026-06-25T02%3A20%3A41Z&sp=r", srclang: "de", kind: "captions", label: "German" }, 
                                         { src: "https://mediusdownload.event.microsoft.com/video-38790/Caption_el-GR.vtt?sv=2018-03-28&sr=c&sig=7XZPG1cmzFEaNZ%2BR%2BMhdUqc89ev2X%2B27%2B0fjllI04tc%3D&se=2026-06-25T02%3A20%3A45Z&sp=r", srclang: "gr", kind: "captions", label: "Greek" }, 
                                         { src: "https://mediusdownload.event.microsoft.com/video-38790/Caption_hi-IN.vtt?sv=2018-03-28&sr=c&sig=7XZPG1cmzFEaNZ%2BR%2BMhdUqc89ev2X%2B27%2B0fjllI04tc%3D&se=2026-06-25T02%3A20%3A45Z&sp=r", srclang: "in", kind: "captions", label: "Hindi" }, 
                                         { src: "https://mediusdownload.event.microsoft.com/video-38790/Caption_hu-HU.vtt?sv=2018-03-28&sr=c&sig=zEIHPTq0On6aTclZSgcDfW676TmXRicMUJU8UTA6QgE%3D&se=2026-06-25T02%3A20%3A46Z&sp=r", srclang: "hu", kind: "captions", label: "Hungarian" }, 
                                         { src: "https://mediusdownload.event.microsoft.com/video-38790/Caption_it-IT.vtt?sv=2018-03-28&sr=c&sig=4ADmAumoV5zZwOBkYOlTLs3TQSmLq%2FgkL%2FWzIFa321g%3D&se=2026-06-25T02%3A20%3A42Z&sp=r", srclang: "it", kind: "captions", label: "Italian" }, 
                                         { src: "https://mediusdownload.event.microsoft.com/video-38790/Caption_ja-JP.vtt?sv=2018-03-28&sr=c&sig=4ADmAumoV5zZwOBkYOlTLs3TQSmLq%2FgkL%2FWzIFa321g%3D&se=2026-06-25T02%3A20%3A42Z&sp=r", srclang: "jp", kind: "captions", label: "Japanese" }, 
                                         { src: "https://mediusdownload.event.microsoft.com/video-38790/Caption_ko-KR.vtt?sv=2018-03-28&sr=c&sig=4ADmAumoV5zZwOBkYOlTLs3TQSmLq%2FgkL%2FWzIFa321g%3D&se=2026-06-25T02%3A20%3A42Z&sp=r", srclang: "kr", kind: "captions", label: "Korean" }, 
                                         { src: "https://mediusdownload.event.microsoft.com/video-38790/Caption_nb-NO.vtt?sv=2018-03-28&sr=c&sig=Q1%2FprsZHilpqZkGE2eVN68%2BWO2e68sedIlwTgLZSZTc%3D&se=2026-06-25T02%3A20%3A47Z&sp=r", srclang: "no", kind: "captions", label: "Norwegian" }, 
                                         { src: "https://mediusdownload.event.microsoft.com/video-38790/Caption_pl-PL.vtt?sv=2018-03-28&sr=c&sig=gEoPo352btMGslZTrKDXhip9Mp6zE%2FPxUQrTJVuo6bY%3D&se=2026-06-25T02%3A20%3A43Z&sp=r", srclang: "pl", kind: "captions", label: "Polish" }, 
                                         { src: "https://mediusdownload.event.microsoft.com/video-38790/Caption_br-BR.vtt?sv=2018-03-28&sr=c&sig=gEoPo352btMGslZTrKDXhip9Mp6zE%2FPxUQrTJVuo6bY%3D&se=2026-06-25T02%3A20%3A43Z&sp=r", srclang: "br", kind: "captions", label: "Portuguese (Brazil)" }, 
                                         { src: "https://mediusdownload.event.microsoft.com/video-38790/Caption_ro-RO.vtt?sv=2018-03-28&sr=c&sig=Q1%2FprsZHilpqZkGE2eVN68%2BWO2e68sedIlwTgLZSZTc%3D&se=2026-06-25T02%3A20%3A47Z&sp=r", srclang: "ro", kind: "captions", label: "Romanian" }, 
                                         { src: "https://mediusdownload.event.microsoft.com/video-38790/Caption_ru-RU.vtt?sv=2018-03-28&sr=c&sig=HGNwSJdCdGdq4qB0JdCMxczcnCaUGSZ4Q4RrZoCjups%3D&se=2026-06-25T02%3A20%3A44Z&sp=r", srclang: "ru", kind: "captions", label: "Russian" }, 
                                         { src: "https://mediusdownload.event.microsoft.com/video-38790/Caption_sk-SK.vtt?sv=2018-03-28&sr=c&sig=gB3PQ%2B0JxFPiGnhiiC51gJUUJY5tW8GmlHEmYrv%2F06E%3D&se=2026-06-25T02%3A20%3A48Z&sp=r", srclang: "sk", kind: "captions", label: "Slovak" }, 
                                         { src: "https://mediusdownload.event.microsoft.com/video-38790/Caption_sl-SI.vtt?sv=2018-03-28&sr=c&sig=gB3PQ%2B0JxFPiGnhiiC51gJUUJY5tW8GmlHEmYrv%2F06E%3D&se=2026-06-25T02%3A20%3A48Z&sp=r", srclang: "si", kind: "captions", label: "Slovenian" }, 
                                         { src: "https://mediusdownload.event.microsoft.com/video-38790/Caption_es-ES.vtt?sv=2018-03-28&sr=c&sig=HGNwSJdCdGdq4qB0JdCMxczcnCaUGSZ4Q4RrZoCjups%3D&se=2026-06-25T02%3A20%3A44Z&sp=r", srclang: "es", kind: "captions", label: "Spanish" }, 
                                         { src: "https://mediusdownload.event.microsoft.com/video-38790/Caption_sv-SE.vtt?sv=2018-03-28&sr=c&sig=HGNwSJdCdGdq4qB0JdCMxczcnCaUGSZ4Q4RrZoCjups%3D&se=2026-06-25T02%3A20%3A44Z&sp=r", srclang: "se", kind: "captions", label: "Swedish" }, 
                                         { src: "https://mediusdownload.event.microsoft.com/video-38790/Caption_th-TH.vtt?sv=2018-03-28&sr=c&sig=gB3PQ%2B0JxFPiGnhiiC51gJUUJY5tW8GmlHEmYrv%2F06E%3D&se=2026-06-25T02%3A20%3A48Z&sp=r", srclang: "th", kind: "captions", label: "Thai" }, 
                                         { src: "https://mediusdownload.event.microsoft.com/video-38790/Caption_tr-TR.vtt?sv=2018-03-28&sr=c&sig=7XZPG1cmzFEaNZ%2BR%2BMhdUqc89ev2X%2B27%2B0fjllI04tc%3D&se=2026-06-25T02%3A20%3A45Z&sp=r", srclang: "tr", kind: "captions", label: "Turkish" }, 
];

                        if (captions.length > 0) {

                            //var vtturls = captions.map(function (c) {
                            //    if (c.label.toLowerCase() === "english") {
                            //        return c.src;
                            //    }
                            //});

                            //if (typeof vtturls == undefined) {
                            //    vtturls = captions[0].src;
                            //}
                            var vtturls = captions.find(function (a) { return a.label.toLowerCase() == 'english' }) ? captions.find(function (a) { return a.label.toLowerCase() == 'english' }).src : captions[0].src;

                            if (captions.length > 0) {

                                var isSemiLive = false;
                                if (isSemiLive !== true) {
                                    myOptions.plugins["captionSearch"] = { vttUrl: vtturls }
                                }
                            }

                            return captions;
                        }
                    }

                        //Add download link plugin
                        function addDownloadLinkPlugin() {
                            //build download link plugin
                            var links = [];

                            if (links.length > 0) {
                                myOptions.plugins["downloadresource"] = { links: links }
                            }
                        }

                        function addCastVideoPlugin() {
                            if ('False' === null || 'False' == 'False' || 'False' == 'false') {
                                myOptions.plugins["castvideo"] = {
                                    streamUrl: source,
                                    captionUrl: 'https://mediusdownload.event.microsoft.com/video-38790/Caption_en-US.vtt?sv=2018-03-28&sr=c&sig=VocQAhUCketBGCpxP3nO7kVnD%2B0EsrIApjIIrwfcX3k%3D&se=2026-06-25T02%3A20%3A41Z&sp=r',
                                    title: 'The 2021 Microsoft Windows Event'
                                }
                            }
                        }

                        function doNotLoadPlayer(thumbnail) {
                            $('body').addClass("azuremediaplayer amp-default-skin amp-big-play-centered player-dimensions amp-size-l");
                            var imagetoDisplay = $("<img class='img-responsive' style='position: fixed;top: 0;left: 0; right: 0;bottom: 0;cursor: pointer;background:black;margin:auto;max-height:100%;height:100%;width:100%'>").attr("src", thumbnail).attr("alt", 'The 2021 Microsoft Windows Event');
                            //var playIcon = $('<img tabindex="0" role="button" title="Play" style="left: 50%; top: 50%; position: absolute;cursor:pointer;width:5%">').attr("src", "https://mediastream.microsoft.com/events/2019/1907/IR19/media/play-button_dark.svg").attr("alt","Play");
                            var playbuttonsize = "100vw";
                            if (getQueryString("pb") != null || getQueryString("pb") != undefined) {
                             playbuttonsize = getQueryString("pb");
                            }
                            var playIconStr1 = '<div class="vjs-controls-enabled vjs-player vjs-workinghover outline-enabled" style="padding-top: 50%;"><button title="Play The 2021 Microsoft Windows Event" data-toggle="tooltip" aria-label="Play" id="thumbnailPlayIcon" style="font-size:';
                    var playIconStr2 = ';cursor:pointer" class="mps-play-button vjs-big-play-button mps-thumbnail-icon" aria-live="off" type="button" style=" font-size: 100vw; "><span class="vjs-control-text">Play Video</span></button></div>';
                    var playIconFinalStr = playIconStr1 + playbuttonsize + playIconStr2;
                    var playIcon = $(playIconFinalStr);
                            //var playIcon = $('<div class="vjs-big-play-button" role="button" aria-live="polite" tabindex="0" aria-label="play video" title="Play"><span aria-hidden="true"></span></div>');
                            imagetoDisplay.appendTo('body');
                            playIcon.appendTo('body');
                            $('video').hide();

                            $('#thumbnailPlayIcon').tooltip();

                            playIcon.on("click", function () {
                                imagetoDisplay.click();
                                $('body').removeClass('azuremediaplayer amp-default-skin amp-big-play-centered player-dimensions amp-size-l');
                            })
                            $(window).keypress(function (e) {
                                if (e.which == 32 || e.which == 13) {
                                    imagetoDisplay.click();
                                }
                            });
                            imagetoDisplay.on("click", function () {
                                $(this).remove();
                                playIcon.remove();
                                $('video').show();
                                getScript('/Content/js/jsll.js', function () {
                                    getScript('/Content/js/appInsights.js', function () {
                                        configureAMPPlayer.init(true);
                                    })
                                });
                                if ($('.vid-card-content').length) {
                                    $('.vid-card-content').hide();
                                }
                            });
                        }

                         function videoAutoPlay() {
                            getScript('/Content/js/jsll.js', function () {
                                getScript('/Content/js/appInsights.js', function () {
                                    configureAMPPlayer.init();
                                })
                            });
                        }

                        function NocookieVideoLoad(thumbnail) {
                            doNotLoadPlayer(thumbnail);
                        }

                        return {
                            init: init,
                            initMp4: initMp4,
                            doNotLoadPlayer: doNotLoadPlayer,
                            NocookieVideoLoad: NocookieVideoLoad,
                            videoAutoPlay: videoAutoPlay
                        }
    }();
            var isSemiLive = false;
            if (isSemiLive === true) {
                //debugger;
                setInterval(function () {
                    if (moment().diff(onDemandStartDate) >= 0) {
                        window.location.href = updateQueryStringParameter(window.location.href, "cache", Math.floor(Math.random() * Math.pow(10, 5)));
                    }
                }, 30*1000);
                //If SessionEndTime Has Passed
                var currdate = moment();
                if (currdate.diff(sessionEndDate) >= 0) {
                   if (phase !== "postLive") {
                      phase = "postLive";

                      var postImg = '';
                        if (postImg != undefined && postImg != null && postImg != 'null' && postImg != "") {
                           displayImage(postImg, phase);
                        }
                       else {
                           displayImage(mediusCommon.GetImageForVideo('ImgVideoComingSoon', ''), phase);
                        }
                        $('#playerDiv').html('');
                      $('#azuremediaplayer').css({
                          'display': 'none'
                       });
                       console.log('post live video coming soon');
                   }
               }
                //Usual Case
                else {
                    renderData();
                    setInterval(renderData, 3000);
              }
            }
            else {
                                configureAMPPlayer.NocookieVideoLoad('https://mediusdownload.event.microsoft.com/video-38790/77142115/thumbnail.jpg?sv=2018-03-28&sr=c&sig=FBsErncWCrsE%2ByIv32aO%2FxseNbo8FwFBNARd0NlQVSQ%3D&se=2026-06-25T20%3A29%3A33Z&sp=r');

            }


            function renderData() {
                var currdate = moment();
        if (selector.attr('data-dnp').trim().length > 0 &&
            selector.attr('data-dnp').toLowerCase() === "true") {
            if (phase !== "DNP") {
                phase = "DNP";
                displayImage(mediusCommon.GetImageForVideo('ImgVideoDND', ''), phase);
                $('#playerDiv').html('');
                $('#azuremediaplayer').css({
                    'display': 'none'
                });
                console.log("DNP");
            }
        }
        else if (typeof hardPhaseReset === "undefined" || hardPhaseReset === null || hardPhaseReset === "auto" || hardPhaseReset === "") {
            if (currdate.diff(sessionStartDate) <= 0) {
                if (phase !== "preLive") {
                    phase = "preLive";
                   

                    var preImg = '';
                    if (preImg != undefined && preImg != null && preImg != 'null' && preImg != "") {
                        displayImage(preImg, phase);
                    }
                    else {
                        displayImage(mediusCommon.GetImageForVideo('ImgLiveStreamStart', ''), phase);
                    }
                    $('#playerDiv').html('');
                    $('#azuremediaplayer').css({
                        'display': 'none'
                    });
                    console.log('prelive');
                }
            }

            else if (sessionEndDate != "" && sessionEndDate != undefined && sessionEndDate != null) {
                if (isLive === false) {
                    if (currdate.diff(sessionStartDate) >= 0 && currdate.diff(sessionEndDate) <= 0) {
                        if (phase !== "live") {
                            phase = "live";
                            isLive = true;
                            displayImage();
                            console.log('live');
                        }
                    }
                }
            }

            else {
                if (phase !== "end") {
                    phase = "end";
                    displayImage(mediusCommon.GetImageForVideo('ImgVideoNotAvailable', ''), phase);
                    $('#playerDiv').html('');
                    $('#azuremediaplayer').css({
                        'display': 'none'
                    });
                    console.log('post live');
                }
            }
        }
        else if (typeof hardPhaseReset !== "undefined" && hardPhaseReset !== null && hardPhaseReset !== "auto") {
            if (hardPhaseReset !== undefined && hardPhaseReset !== null && hardPhaseReset == "upcoming") {
                if (phase !== "upcoming") {
                    phase = "upcoming";
                    displayImage(mediusCommon.GetImageForVideo('ImgVideoComingSoon', ''), phase);
                    $('#playerDiv').html('');
                    $('#azuremediaplayer').css({
                        'display': 'none'
                    });
                    console.log('video coming soon');
                }
            }
            else if (hardPhaseReset !== undefined && hardPhaseReset !== null && hardPhaseReset == "prelive") {
                if (phase !== "preLive") {
                    phase = "preLive";
                     
                    displayImage(mediusCommon.GetImageForVideo('ImgLiveStreamStart', ''), phase);
                   // }
                    $('#playerDiv').html('');
                    $('#azuremediaplayer').css({
                        'display': 'none'
                    });
                    console.log('prelive');
                }
            }
            else if (hardPhaseReset !== undefined && hardPhaseReset !== null && hardPhaseReset == "postlive") {
                if (phase !== "postLive") {
                    phase = "postLive";
                    displayImage(mediusCommon.GetImageForVideo('ImgVideoComingSoon', ''), phase);
                    $('#playerDiv').html('');
                    $('#azuremediaplayer').css({
                        'display': 'none'
                    });
                    console.log('post live video coming soon');
                }
            }
            else if (hardPhaseReset !== undefined && hardPhaseReset !== null && hardPhaseReset == "live") {
                if (phase !== "live") {
                    phase = "live";
                    displayImage();
                    console.log('live');
                }
            }
            else {
                if (phase !== "end") {
                    phase = "end";
                    displayImage(mediusCommon.GetImageForVideo('ImgVideoNotAvailable', ''), phase);
                    $('#playerDiv').html('');
                    $('#azuremediaplayer').css({
                        'display': 'none'
                    });
                    console.log('post live');
                }
            }
        }
    }
    function displayImage(imgUrl,phase) {
        if (imgUrl !== undefined && imgUrl.length > 0) {
            $('#playerDiv').css("display", "none");
            $('iframe').css("display", "none");
            $('body').removeAttr('class');
            if (phase !== undefined && phase !== "" && phase !== null) {
                if (phase == "postLive") {
                    $('body').attr('title','post live video coming soon');
                }
                if (phase == "preLive" || phase=="prelive") {
                    $('body').attr('title', 'Live Stream will be starting soon');
                }
                if (phase == "upcoming") {
                    $('body').attr('title', 'Video will be available soon');
                }
            }
            $('#llthumbnail').remove();
            if (typeof ampPlayer !== "undefined") {
                ampPlayer.dispose();
            }
            $('#thumbnailPlayIcon').remove();
            $('img').css("display", "none");
            $('html').css({ "height": "100%", "margin": "0" });
            $('body').css({ "margin": "0", "background-image": "url('" + imgUrl + "')", "background-position": "center", "background-repeat": "no-repeat", "background-size": "contain", "height": "100%", "background-color": "black" });

        } else {
            $('body').removeAttr('style');
            $('body').removeAttr('title');
            $('iframe').css("display", "inherit");
            $('#playerDiv').css("display", "inherit");
                                configureAMPPlayer.NocookieVideoLoad('https://mediusdownload.event.microsoft.com/video-38790/77142115/thumbnail.jpg?sv=2018-03-28&sr=c&sig=FBsErncWCrsE%2ByIv32aO%2FxseNbo8FwFBNARd0NlQVSQ%3D&se=2026-06-25T20%3A29%3A33Z&sp=r');

        }
    }


        </script>
        <style class="test">
                    button.vjs-big-play-button:not(.mps-thumbnail-icon) { opacity: 0 !important;}

        </style>
        <script>
            var cast = {};
            var initializeCastApi = function () {

                console.log('initializing cast api')
                var sessionRequest = new chrome.cast.SessionRequest(chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID);
                var apiConfig = new chrome.cast.ApiConfig(sessionRequest,
                    function (session) {
                        console.log('got session', session)
                        cast.session = session
                    },
                    function receiverListener(e) {
                        if (e === chrome.cast.ReceiverAvailability.AVAILABLE) {
                            console.log('receiver is available :)')
                        }
                    })

                chrome.cast.initialize(apiConfig, function () {
                    console.log('got initSuccess')
                },
                    function (gotError) {
                        console.log('gotError', gotError)
                    });
            };
            var isChromeCastApiAvailable = false;
            window['__onGCastApiAvailable'] = function (isAvailable) {
                if (isAvailable) {
                    initializeCastApi();
                    isChromeCastApiAvailable = true;
                    $('#castbutton').css("display", "block !important");
                }
            };

            var displayVideoBannerLayout1 = function (vidTitle, vidDesc) {
                var currentUrl = location.href;
                if (getParameterByName('bnl', currentUrl.toLowerCase()) == 'l1') {
                    $('.vid-card-content').html('');
                    var cardHtml = '';
                    cardHtml += '<div class="video-details">';
                    cardHtml += '<div class="title-bnl1">' + vidTitle + '</div><div class="desc-bnl1">' + vidDesc + '</div>';
                    cardHtml += '</div>';
                    cardHtml += '<div class="video-footer-bnl1"><button class="btn-watch-video" aria-label="Open" onclick="bnlClick()">Watch the video</button></div>';
                    $('.vid-card-content').append(cardHtml);
                    $('.vjs-big-play-button').hide();
                    $('.vid-card-content').show();

                    var mq = window.matchMedia("(max-width: 425px)");
                    if (!mq.matches) {
                        // disable click for window width is at greater than 425px
                        $('.img-responsive').off('click');
                        $('.img-responsive').css('cursor', 'auto');
                    }
                    $('.img-responsive').addClass('img-relative');
                }
                else {
                    $('.vjs-big-play-button').show();
                    if ($('.vid-card-content').length) {
                        $('.vid-card-content').hide();
                    }
                }
            };

    function bnlClick() {
                $('video').show();
                getScript('/Content/js/jsll.js', function () {
                    getScript('/Content/js/appInsights.js', function () {
                        configureAMPPlayer.init(true);
                    })
                });
                $('.img-responsive').hide();
                $('#thumbnailPlayIcon').click();
                $('.vid-card-content').hide();
            }

            $(document).ready(function () {
                var currentUrl = location.href;
                if (getParameterByName('bnl', currentUrl.toLowerCase()) == 'l1') {
                    var t = "The 2021 Microsoft Windows Event";
                    var d = "&lt;p class=&quot;&quot;&gt;SV Channel 3&lt;/p&gt;";
                    displayVideoBannerLayout1(t, d);
                }

            });

        </script>
    <div class="vid-card-content"></div>

                    <script>
                        $(document).ready(function () {
                    if ($('iframe').length > 0) {
                                $('iframe').attr('style', "overflow: hidden; height: 100%;width: 100%; position: absolute;");
                                $('iframe').width('100%');
                                $('iframe').height('100%');
                    }
                });
                var videoGuid = 'de18ed97-45e6-4762-85cc-f0d94abab98d';
                    </script>


    <script>
        $(document).ready(function () {
            
            var getParams = function (url) {
                var params = [];
                var parser = document.createElement('a');
                parser.href = url;
                var query = parser.search.substring(1);
                var vars = query.split('&');
                for (var i = 1; i < vars.length; i++) {
                    params.push(decodeURIComponent(vars[i]));
                }
                return params.join("&");
            };

            if ($("#ifrmamy").length > 0) {
                var addParams = getParams(window.location.href);
                var iframeHref = "https://www.youtube-nocookie.com/embed/?enablejsapi=1&";
                if ($("#ifrmamy").attr("data-autoplay") === "True")
                    iframeHref = iframeHref + "autoplay=1&";
                $("#ifrmamy").attr('src', iframeHref + addParams);
            }

            // accessibility issue: caption settings "done" tab click focus should be inside player "settings" 
            $(document).on('keydown', '.vjs-tracksettings-controls .vjs-done-button', function (e) {
                if (e.which == 9) {
                    setTimeout(function () {
                        $('.vjs-captions-button').attr('aria-expanded', true);
                        $('.vjs-menu-item.vjs-texttrack-settings').focus();
                    }, 1000);
                }
            });
        });

    </script>
    </body>
</html>
